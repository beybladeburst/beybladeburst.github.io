<!DOCTYPE html>
<script src=/include/common.js></script>
<title>陀螺部件 ￭ Beyblade Burst parts</title>
<script src=include/parts.js></script>
<script src=include/catalog.js></script>
<link rel=preload as=style href=include/catalog.css onload=this.rel='stylesheet'>
<link rel=stylesheet href=include/typography.css>

<nav><script>
    const title = {layer6r: 'Ring', layer6s: 'Chassis', layer6c: 'Chip', layer5w: 'Weight', layer5b: 'Base', layer5c: 'Chip'};
    nav.create();
</script></nav>
<db-status></db-status>

<main hidden>
    <h5></h5>
    <details hidden>
        <summary data-icon=></summary>
        <article></article>
    </details>
    <div class=filter></div>
    <section class=catalog></section>
</main>
<main hidden>
    <div class=tips>除「重量」外，其餘數據及簡介都是直接由官網引用／翻譯，請自行判斷現實情況！</div>
    <section>
        <button disabled>left</button>
        <button style="right:0">right</button>
        <div class=layer style="height:31%;--p:0">
            <div>
                <a href=?layer6s style="top:28%;left:22%" title=Chassis><img src=/img/system-layer6.png></a>
                <a href=?layer6r style="top:28%;left:53%" title=Ring><img src=/img/system-layer6.png></a>
                <a href=?layer6c style="top:50%;left:80%" title=Chip><img src=/img/system-layer6.png></a>
                <a href=?LB style="top:75%;left:35%" title='Limit Break'><img src=/img/system-layer6.png></a>
            </div>
            <div>
                <a href=?layer5><img src=/img/system-layer5m.png></a>
                <a href=?layer5b title=Base><img src=/img/system-layer5.png></a>
                <a href=?layer5w title=Weight><img src=/img/system-layer5.png></a>
                <a href=?layer5c title=Chip><img src=/img/system-layer5.png></a>
            </div>
            <div>
                <a href=?remake><img src=/img/system-remake.png></a>
                <a href=?layer4><img src=/img/system-layer4.png></a>
                <a href=?layer3><img src=/img/system-layer3.png></a>
                <a href=?layer2><img src=/img/system-layer2.png></a>
                <a href=?layer1><img src=/img/system-layer1.png></a>
            </div>
        </div>
        <div class=disk style="top:38%;height:22%">
            <a href=?LB><img src=/img/system-layer6.png></a>
            <a href=?disk3>Disk 3</a>
            <a href=?disk1>Disk 1</a>
            <a href=?disk2>Core disk</a>
            <a href=?frame>Frame</a>
        </div>
        <div class=driver style="top:68%;height:28%">
            <a href=?driver4><svg viewBox="0 0 20 20"><use href="#round"/></svg>4</a>
            <a href=?driver3><svg viewBox="0 0 20 20"><use href="#round"/></svg>3</a>
            <a href=?driver2><svg viewBox="0 0 20 20"><use href="#round"/></svg>2</a>
            <a href=?driver1><svg viewBox="0 0 20 20"><use href="#round"/></svg>1</a>
            <a href=?high data-icon="⇪"><svg viewBox="0 0 20 20"><use href="#round"/></svg></a>
            <a href=?dash data-icon="⌇"><svg viewBox="0 0 20 20"><use href="#round"/></svg></a>
        </div>

        <svg viewBox="0 0 100 73">
            <defs>
                <rect id="round" x="0" y="0" width="20" height="20" rx="10" ry="10"></rect>
            </defs>
            <image href="include/parts.svg#layer" width="100" height="73" />
            <path d="M 72,12 l -4,0 l -3.5,-5 l -4,0 m -15.5,0 l -15.5,0 M 68,12 l -3.5,5 l -21,0 m -15.5,0 l -5,0 l -3.5,5 l 3.5,5"/>
        </svg>
    </section>
</main>
<script>
    let page = 0;
    Q('button:first-of-type').onclick = ev => {
        Q('button:last-of-type').disabled = false;
        page++;
        Q('.layer').style.setProperty('--p', page);
        ev.target.disabled = page == 0;
    };
    Q('button:last-of-type').onclick = ev => {
        Q('button:first-of-type').disabled = false;
        page--;
        Q('.layer').style.setProperty('--p', page);
        ev.target.disabled = page == -2;
    };
    if (Parts.group)
        L(() => Q('main:first-of-type').hidden = false);
    else L(() => {
        Q('main:last-of-type').hidden = false;
        Q('style[media]').removeAttribute('media');
    });
</script>
<style media="max-width:1px">
    main {
        overflow:visible;
    }
    main a[data-icon]::after {content:attr(data-icon);}
    a[data-icon='⌇']::after {color:gold;}
    a[data-icon='⇪']::after {color:magenta;}

    section {
        position:relative;
        max-width:800px;
        margin:auto;
    }
    section div {
        position:absolute;width:100%;
    }
    .layer {
        overflow:hidden;
    }
    .layer>div   {
        height:100%;
        transition:left .5s;
        display:flex;justify-content:space-around;align-items:center;
        padding:0 10%;
    }
    .layer>div:first-child {
        left:calc(var(--p)*100%);
    }
    .layer>div:nth-child(2) {
        left:calc((1 + var(--p))*100%);
    }
    .layer>div:last-child {
        left:calc((2 + var(--p))*100%);
    }
    svg path {
        opacity:0;transition:opacity .5s;
    }
    .layer[style*='--p:0']~svg path {
        opacity:1;
    }
    .disk {
        display:grid;grid-template:'a b c' 50% 'a d e' 50%;
        align-items:center;justify-content:center;
        padding-left:20%;
    }
    .disk a:first-child {
        grid-area:a;
    }
    .driver {
        display:grid;grid-template:'a b c d' 2em '. e f .' 2em / 2em 2em 2em 2em;
        justify-content:center;align-items:center;
    }
    a[href='?high'] {grid-area:e;}
    a[href='?dash'] {grid-area:f;}

    section button {
        position:absolute;top:-2em;z-index:3;
    }
    .layer>div:first-child a {
        position:absolute;transform:translate(-50%,-50%);
    }
    .layer a,.disk a:first-child {
        display:inline-block;
        height:3em;
    }
    .driver a {
        position:relative;
        height:2em;
        display:inline-block;
    }
    section a svg {
        position:absolute;left:50%;transform:translate(-50%,0);
        height:100%;
    }
    #round {
        stroke-width:1.5;
    }
    section img {
        height:100%;
    }
    g:not(.layer) a, svg path {
        filter:drop-shadow(0 0 0.1rem hsl(var(--c),calc(var(--s)*2),80%)) drop-shadow(0 0 0.3rem hsl(var(--c),calc(var(--s)*1.5),70%)) !important;
    }
    .layer a,.day section a {
        filter:drop-shadow(0.25rem -0.25rem 0.2rem hsla(0,0%,0%,0.4)) !important;
    }
    .layer a:hover,.day section a:hover {
        filter:brightness(120%) drop-shadow(0.25rem -0.25rem 0.2rem hsla(0,0%,0%,0.4)) !important;
    }

    /*svg*/
    g image {
        width:var(--w);
        height:calc(var(--w)*5.5/10);
        transform:translate(calc(var(--w)/-2),calc(var(--w)*5.5/10/-2));
    }
    path {
        stroke:hsl(var(--c),var(--s),calc(50% - var(--b)/10));
        stroke-linecap:round;
        stroke-width:.5;
        fill:transparent;
    }
    circle,rect {
        stroke-width:.3;
        stroke:white;
        r:2.5;
        fill:transparent;
    }
    .layer a~path {
        stroke-width:.3;
        stroke:grey;
    }
    #SP a:last-of-type  {
        transform:translate(-1px,10px);
    }
    text {text-anchor:middle;}
    .disk>text {text-anchor:start;}
    .driver>text {text-anchor:end;}
    text:not([fill]) {
        font-size:calc(var(--w)/4.5);
        fill:white;
    }
    text[fill] {
        font-size:calc(var(--w)/4);
    }
    image+text {
        text-anchor:end;
        font-size:calc(var(--w)/5) !important;
    }
    .day .disk svg>*,.day rect {
        fill:hsl(var(--c),var(--s),75%);
    }
</style>

