<!DOCTYPE html>
<script src=/include/common.js></script>
<title>陀螺部件 ￭ Beyblade Burst parts</title>
<script src=include/parts.js></script>
<script src=include/catalog.js></script>
<link rel=preload as=style href=include/catalog.css onload=this.rel='stylesheet'>
<link rel=stylesheet href=include/typography.css>

<nav><script>
    const title = {layer6r: 'Ring', layer6s: 'Chassis', layer6c: 'Chip', layer5w: 'Weight', layer5b: 'Base', layer5c: 'Chip'};
    nav.create();
</script></nav>
<db-status></db-status>

<main hidden>
    <h5></h5>
    <details hidden>
        <summary data-icon=></summary>
        <article></article>
    </details>
    <div class=filter></div>
    <section class=catalog></section>
</main>
<main hidden>
    <div class=tips>除「重量」外，其餘數據及簡介都是直接由官網引用／翻譯，請自行判斷現實情況！</div>
    <svg viewBox="0 0 100 80">
        <image href="include/parts.svg#layer" width="100" height="80" preserveAspectRatio="xMidYMin slice" />
        <g class="layer">
            <path d="M 5,6 l 4,-8 l 82,0 L 95,6" />
            <a href=?remake><image href="/img/system-remake.png" /></a>
            <a href=?layer5><image href="/img/system-layer5m.png" /></a>
            <a href=?layer4><image href="/img/system-layer4.png" /></a>
            <a href=?layer3><image href="/img/system-layer3.png" /></a>
            <a href=?layer2><image href="/img/system-layer2.png" /></a>
            <a href=?layer1><image href="/img/system-layer1.png" /></a>
            <g id=GT>
                <a href=?layer5b><image href="/img/system-layer5.png" x=29 /><text>Base</text></a>
                <a href=?layer5w><image href="/img/system-layer5.png" x=59 /><text>Weight</text></a>
                <a href=?layer5c><image href="/img/system-layer5.png" x=89 /><text>Chip</text></a>
            </g>
            <g id=SP>
                <a href=?layer6s><image href="/img/system-layer6.png" x=21 /><text>Chassis</text></a>
                <a href=?layer6r><image href="/img/system-layer6.png" x=45 /><text>Ring</text></a>
                <a href=?layer6c><image href="/img/system-layer6.png" x=76 /><text>Chip</text></a>
                <a href=?layer6c><image href="/img/system-layer6.png" x=41 /><text>LB</text></a>
                <path d="M 69,18 l -17,0 m -13.5,0 l -11,0 M 63,18 l -6,9 l -10,0 m -13,0 l -19,0 l -4,6" />
            </g>
            <text x=50 y=2>Layer 攻擊環・結晶輪盤</text>
        </g>
        <g class="disk">
            <a href=?layer6c><image href="/img/system-layer6.png" x=9 y=37 /><text x=12 y=40>LB</text></a>
            <a href=?disk3><circle cx=5 cy=44 /><text x=5 y=45>3</text></a>
            <a href=?disk2><circle cx=11 cy=44 /><text x=11 y=45>2</text></a>
            <a href=?frame><rect x=15 y=41.5 width=12 height=5 rx=1 /><text x=21 y=45>Frame</text></a>
            <a href=?disk1><circle cx=31 cy=44  /><text x=31 y=45>1</text></a>
            <text x=3 y=52>Disk 金屬輪盤</text>
        </g>
        <g class="driver">
            <a href=?high><text fill=magenta>⇪</text></a>
            <a href=?dash><text fill=gold>⌇</text></a>
            <a href=?driver4><text>4</text></a>
            <a href=?driver3><text>2</text></a>
            <a href=?driver2><text>2</text></a>
            <a href=?driver1><text>1</text></a>
            <text x=97 y=82>Driver 軸心・底盤</text>
        </g>
    </svg>
    <script>
        (() => {
            const start = 10;
            const end = 100 - start;
            const interval = (end - start) / 5;
            const scale = () =>
                Q('svg').style.setProperty('--w', (Q('main svg').clientWidth / -100 + 20) + 'px');
            setTimeout(scale);
            window.onresize = scale;
            Q('.layer>a image', (image, i) => {
                image.setAttribute('y', -7.5);
                image.setAttribute('x', start + i * interval);
            });
            Q('#GT image, #SP image', (image, i) => {
                const y = /layer5/.test(image.getAttribute('href')) ? 9 : 18;
                image.setAttribute('y', y);
                image.nextElementSibling.setAttribute('x', 3 + parseInt(image.getAttribute('x')));
                image.nextElementSibling.setAttribute('y', 2.5 + y);
            });
        })();
    </script>
</main>
<script>
if (Parts.group)
    L(() => Q('main:first-of-type').hidden = false);
else L(() => {
    Q('main:last-of-type').hidden = false;
    Q('style[media]').removeAttribute('media');
});
</script>
<style media="max-width:1px">
    main {
        overflow:visible;
    }
    g:not(.layer) a, svg path {
        filter:drop-shadow(0 0 0.1rem hsl(var(--c),calc(var(--s)*2),80%)) drop-shadow(0 0 0.3rem hsl(var(--c),calc(var(--s)*1.5),70%)) !important;
    }
    .layer a,.day section a {
        filter:drop-shadow(0.25rem -0.25rem 0.2rem hsla(0,0%,0%,0.4)) !important;
    }
    .layer a:hover,.day section a:hover {
        filter:brightness(120%) drop-shadow(0.25rem -0.25rem 0.2rem hsla(0,0%,0%,0.4)) !important;
    }

    /*svg*/
    g image {
        width:var(--w);
        height:calc(var(--w)*5.5/10);
        transform:translate(calc(var(--w)/-2),calc(var(--w)*5.5/10/-2));
    }
    svg {
        margin-top:5em;
        max-width:50em;
    }
    path {
        stroke:hsl(var(--c),var(--s),calc(50% - var(--b)/10));
        stroke-linecap:round;
        stroke-width:.5;
        fill:transparent;
    }
    circle,rect {
        stroke-width:.3;
        stroke:white;
        r:2.5;
        fill:transparent;
    }
    .layer a~path {
        stroke-width:.3;
        stroke:grey;
    }
    #SP a:last-of-type  {
        transform:translate(-1px,10px);
    }
    text {text-anchor:middle;}
    .disk>text {text-anchor:start;}
    .driver>text {text-anchor:end;}
    text:not([fill]) {
        font-size:calc(var(--w)/4.5);
        fill:white;
    }
    text[fill] {
        font-size:calc(var(--w)/4);
    }
    image+text {
        text-anchor:end;
        font-size:calc(var(--w)/5) !important;
    }
    .day .disk svg>*,.day rect {
        fill:hsl(var(--c),var(--s),75%);
    }
</style>

